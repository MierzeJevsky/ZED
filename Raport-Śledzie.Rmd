---
title: "Raport - Śledzie"
author: "Mikołaj Mierzejewski"
date: "`r Sys.Date()`"
output: 
  html_document:
    toc: true
    toc_float:
      collapsed: false
---

# Karłowacenie śledzi oceanicznych

## Podsumowanie

lorem ipsum

## Użyte biblioteki

```{r biblioteki, warning=FALSE, message=FALSE}
library(dplyr)
library(ggplot2)
library(plotly)
library(zoo)
library(corrplot)
```

## Powtarzalność eksperymentów
```{r seed, echo=FALSE, warning=FALSE, message=FALSE}
seed_ustalony <- 23
set.seed(seed_ustalony)
```

By eksperymenty były powtarzalne seed został określony na **`r seed_ustalony`**

## Użyte dane

lorem ipsum

```{r wczytywanie_danych, cache=TRUE}
df <- read.csv("sledzie.csv")
```

lorem ipsum

### Brakujące dane
```{r podgląd danych, echo=FALSE}
head(df)
```

lorem ipsum

```{r czyszczenie_danych, echo=FALSE, warning=FALSE}
df <- as.data.frame(sapply(df, as.numeric))
df <- na.aggregate(df)
head(df)
```

## Podsumowanie zbioru

Zbiór składa się z `r nrow(df)` wierszy opisanych za pomocą `r ncol(df)` kolmn. Postawowe statystiki zbioru prezentują się następująco:


```{r summary, echo=FALSE}
summary(df)
```

## Rozkłady zmiennych

lorem ipsum

### Długość złowionego śledzia [cm] - length
```{r, echo=FALSE, warning=FALSE}
ggplot(df, aes(x = length)) + geom_histogram(binwidth = .5) + geom_vline(aes(xintercept = mean(length, na.rm = T)), colour = "red")
```

### Dostępność planktonu [zagęszczenie Calanus finmarchicus gat. 1] - cfin1
```{r, echo=FALSE, warning=FALSE}
ggplot(df, aes(x = cfin1)) + geom_histogram(binwidth = .5) + geom_vline(aes(xintercept = mean(cfin1, na.rm = T)), colour = "red")
```

### Dostępność planktonu [zagęszczenie Calanus finmarchicus gat. 2] - cfin2
```{r, echo=FALSE, warning=FALSE}
ggplot(df, aes(x = cfin2)) + geom_histogram(binwidth = .5) + geom_vline(aes(xintercept = mean(cfin2, na.rm = T)), colour = "red")
```

### Dostępność planktonu [zagęszczenie Calanus helgolandicus gat. 1] - chel1
```{r, echo=FALSE, warning=FALSE}
ggplot(df, aes(x = chel1)) + geom_histogram(binwidth = .5) + geom_vline(aes(xintercept = mean(chel1, na.rm = T)), colour = "red")
```

### Dostępność planktonu [zagęszczenie Calanus helgolandicus gat. 2] - chel2
```{r, echo=FALSE, warning=FALSE}
ggplot(df, aes(x = chel2)) + geom_histogram(binwidth = .5) + geom_vline(aes(xintercept = mean(chel2, na.rm = T)), colour = "red")
```

### Dostępność planktonu [zagęszczenie widłonogów gat. 1] - lcop1
```{r, echo=FALSE, warning=FALSE}
ggplot(df, aes(x = lcop1)) + geom_histogram(binwidth = .5) + geom_vline(aes(xintercept = mean(lcop1, na.rm = T)), colour = "red")
```

### Dostępność planktonu [zagęszczenie widłonogów gat. 2] - lcop2
```{r, echo=FALSE, warning=FALSE}
ggplot(df, aes(x = lcop2)) + geom_histogram(binwidth = .5) + geom_vline(aes(xintercept = mean(lcop2, na.rm = T)), colour = "red")
```

### Natężenie połowów w regionie [ułamek pozostawionego narybku] - fbar
```{r, echo=FALSE, warning=FALSE}
ggplot(df, aes(x = fbar)) + geom_histogram(binwidth = .5) + geom_vline(aes(xintercept = mean(fbar, na.rm = T)), colour = "red")
```

### Roczny narybek [liczba śledzi] - recr
```{r, echo=FALSE, warning=FALSE, message=FALSE}
ggplot(df, aes(x = recr)) + geom_histogram() + geom_vline(aes(xintercept = mean(recr, na.rm = T)), colour = "red")
```

### Łączne roczne natężenie połowów w regionie [ułamek pozostawionego narybku] - cumf
```{r, echo=FALSE, warning=FALSE}
ggplot(df, aes(x = cumf)) + geom_histogram(binwidth = .5) + geom_vline(aes(xintercept = mean(cumf, na.rm = T)), colour = "red")
```

### Łączna liczba ryb złowionych w ramach połowu [liczba śledzi] - totaln
```{r, echo=FALSE, warning=FALSE, message=FALSE}
ggplot(df, aes(x = totaln)) + geom_histogram() + geom_vline(aes(xintercept = mean(totaln, na.rm = T)), colour = "red")
```

### Temperatura przy powierzchni wody [°C] - sst
```{r, echo=FALSE, warning=FALSE}
ggplot(df, aes(x = sst)) + geom_histogram(binwidth = .5) + geom_vline(aes(xintercept = mean(sst, na.rm = T)), colour = "red")
```

### Poziom zasolenia wody [Knudsen ppt] - sal
```{r, echo=FALSE, warning=FALSE}
ggplot(df, aes(x = sal)) + geom_histogram(binwidth = .5) + geom_vline(aes(xintercept = mean(sal, na.rm = T)), colour = "red")
```

### Miesiąc połowu [numer miesiąca] - xmonth
```{r, echo=FALSE, warning=FALSE}
ggplot(df, aes(x = xmonth)) + geom_histogram(binwidth = .5) + geom_vline(aes(xintercept = mean(xmonth, na.rm = T)), colour = "red")
```

### Oscylacja północnoatlantycka [mb] - nao
```{r, echo=FALSE, warning=FALSE}
ggplot(df, aes(x = nao)) + geom_histogram(binwidth = .5) + geom_vline(aes(xintercept = mean(nao, na.rm = T)), colour = "red")
```

## Analiza wartości
### Korelacje
```{r korelacje, echo=FALSE}
corrplot(cor(df), number.cex = 0.5, addCoef.col = 1, type = 'upper')
```

lorem ipsum

### Wykresy
```{r wykresy, echo=FALSE}
plot_time <- ggplot(df, aes(x=X, y=length)) + geom_point() + geom_jitter()
plot_time
#ggplotly(plot_time)

ggplot(df,aes(x=X, y=length, color=sst)) + geom_point()
```